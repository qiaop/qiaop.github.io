---
title: 位运算
date: 2017-07-19 10:12:45
tags:
- base
categories:
- base

---


> 位操作是程序设计中对位模式按位或二进制数的一元和二元操作。在许多古老的微处理器上，位运算比加减运算略快，通常位运算比乘除法运算要快很多。在现代架构中，情况并非如此：位运算的运算速度通常与加法运算相同（仍然快于乘法运算）。

**按位运算就把数字转换为机器语言——二进制的数字来运算的一种运算形式**

<!-- more -->

# 操作符
操作符|描述|规则
-----|---|----
&|按位与|两个相应的二进位都为1，该位的结果值才为1，否则为0
\||按位或|两个相应的二进位中只要有一个为1，该位的结果值为1
^|按位异或|两个相应的二进位中不同则该位为1，否则该位为0
~|取反|一元运算符，对一个二进制数的每一位执行逻辑反操作。使数字1成为0，0成为1
\>>或<<|移位|将一个二进制数中的每一位全部都向一个方向移动指定位，溢出的部分将被舍弃，而空缺的部分填入一定的值。

**注意：**

- 位操作只能用于整型和字符型数据
- 只有~取反是一元运算符，其它都是二元运算符

## 按位与（AND）
按位与处理两个长度相同的二进制数，两个相应的二进位都为1，该位的结果值才为1，否则为0。例如：5&3

	     0101
     AND 0011
       = 0001
       
## 按位或（OR）

按位或处理两个长度相同的二进制数，两个相应的二进位中只要有一个为1，该位的结果值为1。例如：5|3

	   0101
    OR 0011
     = 0111
     
按位或能够将每一位看做旗帜；在二进制数中的每一位可以表示不同的布尔变量。应用按位或操作可以将二进制数的某一位设为1。例如：

	0010（十进制2）
能够看做包含4个旗帜的组合。第1，2，4旗帜为0；第3个旗帜为1。利用按位或可以将第1个旗帜设置为1，而其他旗帜不变。

       0010（十进制2）
    OR 1000（十进制8）
     = 1010（十进制10）
这一技巧通常用来保存程序中的大量布尔变量。

## 按位异或（XOR）
按位异或运算，对等长二进制模式按位或二进制数的每一位执行逻辑异按位或操作。操作的结果是如果某位不同则该位为1，否则该位为0。例如：

		 0101
     XOR 0011
       = 0110

按位异或也可以用于在比特集合中切换旗帜。给出一个比特模式，

	0010
第一和第三位能够通过按位异或运算使用同时切换。

         0010
     XOR 1010
       = 1000
这一技巧可用于操作表示布尔变量的比特模式。

## 取反（NOT）
取反是一元运算符，对一个二进制数的每一位执行逻辑反操作。使数字1成为0，0成为1。例如：

	 NOT 0111
       = 1000
       
## 移位
移位是一个二元运算符，用来将一个二进制数中的每一位全部都向一个方向移动指定位，溢出的部分将被舍弃，而空缺的部分填入一定的值。

我们知道正数在计算机中是用二进制表示的，负数在计算机中使用补码表示的。
**对于移位操作，分为算术移位和逻辑移位，它们在左移操作中都一样，低位补0即可，但在右移中逻辑移位的高位补0而算术移位的高位是补符号位**

#### 左移位：<<
左移操作时将运算数的二进制码整体左移指定位数，左移之后的空位用0补充。
	
	0000 0000 0000 0000 0000 0000 0000 0101           然后左移2位后，低位补0：

	0000 0000 0000 0000 0000 0000 0001 0100           换算成10进制为20
	
#### 右移位：>>
右移操作是将运算数的二进制码整体右移指定位数，右移之后的空位用符号位补充，如果是正数用0补充，负数用1补充。

5>>3

	0000 0000 0000 0000 0000 0000 0000 0101	              右移3位后，高位0补位
	0000 0000 0000 0000 0000 0000 0000 0000               结果为0

-5>>3

	1111 1111 1111 1111 1111 1111 1111 1011            右移三位，高位1补位
	1111 1111 1111 1111 1111 1111 1111 1111            结果为-1

### 在Java中
#### 无符号右移：>>>

右移过程最高位一律补0，也就是算术右移

#### 和＝合并起来
<<= 、 >>= 和 >>>=。例如 a >>= 2; 表示将a右移两位后的值重新赋给a