---
title: python 杨辉三角
date: 2017-07-27 11:09:45
tags:
- base
categories:
- python

---

## 杨辉三角的python实现
我们先看`杨辉三角`python的实现方法：

```python
def triangle():
    b = [1]
    while True:
        yield b
        b = [1] + [b[i] +b[i+1] for i in range(len(b)-1)]+[1]
n = 0
for t in triangle():
    print(t)
    n = n + 1
    if n == 10:
        break

```

<!--more -->

## 输出结果

	[1]
	[1, 1]
	[1, 2, 1]
	[1, 3, 3, 1]
	[1, 4, 6, 4, 1]
	[1, 5, 10, 10, 5, 1]
	[1, 6, 15, 20, 15, 6, 1]
	[1, 7, 21, 35, 35, 21, 7, 1]
	[1, 8, 28, 56, 70, 56, 28, 8, 1]
	[1, 9, 36, 84, 126, 126, 84, 36, 9, 1]
	
## 分析
分析重点在`b = [1] + [b[i] +b[i+1] for i in range(len(b)-1)]+[1]`这段。
左右两边的`[1]`从第二行开始每一行都有，这个没有疑问。

### range函数
先列几个range（）函数的几个用法：

	>>> range(0,5)
	[0, 1, 2, 3, 4]
	>>> range(5)
	[0, 1, 2, 3, 4]
	>>> range(-5)
	[]
	>>> range(0,5,2)
	[0, 2, 4]
	>>> range(0,-5,-2)
	[0, -2, -4]

>函数原型：range（start， end， scan):

	参数含义：start:计数从start开始。默认是从0开始。例如range（5）等价于range（0， 5）;
	end:技术到end结束，但不包括end.例如：range（0， 5） 是[0, 1, 2, 3, 4]没有5
	scan：每次跳跃的间距，默认为1。例如：range（0， 5） 等价于 range(0, 5, 1)
### 步骤分析
`[b[i] +b[i+1] for i in range(len(b)-1)]`
#### No.1
b = [1], len(b) => 1,
range(len(b)-1) => None 所以是空的，
加上前后的[1],b变成了[1,1]

#### No.2
b = [1,1], len(b) => 2,
range(len(b)-1) => range(1) => `[0]`
=> 中间的列表生成了`b[0] + b[1]`这个元素，
其中b[0]是b列表的第一个元素即1，b[1]是b列表的第二个元素即1，
所以生成元素为1+1=2，由于range(1)=>[0]，
只有一个元素，生成的list为[2]，加上左右的[1],得到`[1,2,1]`
#### No.3
b = [1,2,1], len(b) => 3,
range(len(b)-1) => range(2)
=> [0,1] => 中间的列表先生成了`b[0] + b[1]`这个元素，
其中b[0]是b列表的第一个元素即1，b[1]是b列表的第二个元素即2，
所以生成元素为1+2=3，列表然后生成了`b[1] + b[2]`这个元素，
其中b[1]是b列表的第二个元素即2，b[2]是b列表的第三个元素即1，
所以生成元素为2+1=3，
由于range(2)生成的是长度为2的列表，for完成了0和1两次循环后结束了，
所以生成的list为`[3,3]`，加上左右的[1],得到[1,3,3,1]